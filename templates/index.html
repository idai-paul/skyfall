<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart City Surveillance System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-dark text-light">
    <header class="bg-black py-2">
        <div class="container-fluid">
            <div class="d-flex justify-content-between align-items-center">
                <h1 class="h4 mb-0 font-monospace">SMART CITY SURVEILLANCE NETWORK</h1>
                <div class="d-flex align-items-center">
                    <span id="current-time" class="me-2 font-monospace">14:23:08</span>
                    <span class="status-indicator online"></span>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid">
        <div class="row">
            <!-- Left Sidebar - Tracked Subjects -->
            <div class="col-md-2 bg-black p-3 sidebar font-monospace">
                <h2 class="h5 border-bottom pb-2 mb-3">TRACKED SUBJECTS</h2>
                
                <div id="tracked-subjects-container">
                    <!-- Subject #28F4 -->
                    <div class="subject-card mb-3" data-subject-id="28F4">
                        <div class="card bg-dark border-secondary">
                            <div class="card-header d-flex justify-content-between align-items-center border-left-red">
                                <h5 class="card-title mb-0">Subject #28F4</h5>
                                <span class="confidence-badge">92%</span>
                            </div>
                            <div class="card-body">
                                <div class="detail-row">
                                    <span class="detail-label">First seen:</span>
                                    <span class="detail-value">14:17:22</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Location:</span>
                                    <span class="detail-value">Main Street</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Signature:</span>
                                    <span class="detail-value">Black jacket</span>
                                </div>
                                
                                <div class="mt-3">
                                    <h6 class="border-bottom pb-1 mb-2">PATH</h6>
                                    <div class="path-tags">
                                        <span class="path-tag">Central St</span>
                                        <span class="path-arrow">→</span>
                                        <span class="path-tag">Main St</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Subject #19A7 -->
                    <div class="subject-card mb-3" data-subject-id="19A7">
                        <div class="card bg-dark border-secondary">
                            <div class="card-header d-flex justify-content-between align-items-center border-left-blue">
                                <h5 class="card-title mb-0">Subject #19A7</h5>
                                <span class="confidence-badge">87%</span>
                            </div>
                            <div class="card-body">
                                <div class="detail-row">
                                    <span class="detail-label">First seen:</span>
                                    <span class="detail-value">14:12:55</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Location:</span>
                                    <span class="detail-value">Market Sq</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Signature:</span>
                                    <span class="detail-value">Red coat</span>
                                </div>
                                
                                <div class="mt-3">
                                    <h6 class="border-bottom pb-1 mb-2">PATH</h6>
                                    <div class="path-tags">
                                        <span class="path-tag">Bus Stop</span>
                                        <span class="path-arrow">→</span>
                                        <span class="path-tag">City Park</span>
                                        <span class="path-arrow">→</span>
                                        <span class="path-tag">Market</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- System Status -->
                <h2 class="h5 border-bottom pb-2 mb-3 mt-4">SYSTEM STATUS</h2>
                <div class="system-status">
                    <div class="detail-row">
                        <span class="detail-label">Cameras:</span>
                        <span class="detail-value">24/24</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Tracked:</span>
                        <span class="detail-value">12</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Algorithm:</span>
                        <span class="detail-value">FaceTrack v3</span>
                    </div>
                </div>
            </div>
            
            <!-- Main Content - Camera Feeds & Map -->
            <div class="col-md-5 p-3 main-content font-monospace">
                <!-- Camera Feeds -->
                <h2 class="h5 border-bottom pb-2 mb-3">LIVE CAMERA FEEDS</h2>
                <div class="row" id="camera-feeds-container">
                    <!-- Camera 1 - Central Station -->
                    <div class="col-md-6 mb-3">
                        <div class="camera-feed-card">
                            <div class="camera-header">
                                <span>Central Station</span>
                                <span class="camera-id">CAM-01</span>
                            </div>
                            <div class="camera-feed-placeholder" data-camera-id="CAM-01">
                                <!-- Empty placeholder for future video feed -->
                                <div class="placeholder-text">
                                    <i class="fas fa-video placeholder-icon"></i>
                                    <span>Feed Unavailable</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Camera 2 - Main Street -->
                    <div class="col-md-6 mb-3">
                        <div class="camera-feed-card">
                            <div class="camera-header">
                                <span>Main Street</span>
                                <span class="camera-id">CAM-04</span>
                            </div>
                            <div class="camera-feed-placeholder" data-camera-id="CAM-04">
                                <div class="placeholder-text">
                                    <i class="fas fa-video placeholder-icon"></i>
                                    <span>Feed Unavailable</span>
                                </div>
                                
                                <!-- Detection box for subject #28F4 -->
                                <div class="detection-box" style="border-color: #FF0000">
                                    <span class="detection-label" style="color: #FF0000">
                                        Subject #28F4
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Camera 3 - Market Square -->
                    <div class="col-md-6 mb-3">
                        <div class="camera-feed-card">
                            <div class="camera-header">
                                <span>Market Square</span>
                                <span class="camera-id">CAM-12</span>
                            </div>
                            <div class="camera-feed-placeholder" data-camera-id="CAM-12">
                                <div class="placeholder-text">
                                    <i class="fas fa-video placeholder-icon"></i>
                                    <span>Feed Unavailable</span>
                                </div>
                                
                                <!-- Detection box for subject #19A7 -->
                                <div class="detection-box" style="border-color: #00AAFF">
                                    <span class="detection-label" style="color: #00AAFF">
                                        Subject #19A7
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Camera 4 - Bus Stop -->
                    <div class="col-md-6 mb-3">
                        <div class="camera-feed-card">
                            <div class="camera-header">
                                <span>Bus Stop</span>
                                <span class="camera-id">CAM-07</span>
                            </div>
                            <div class="camera-feed-placeholder" data-camera-id="CAM-07">
                                <div class="placeholder-text">
                                    <i class="fas fa-video placeholder-icon"></i>
                                    <span>Feed Unavailable</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- City Map -->
                <h2 class="h5 border-bottom pb-2 mb-3 mt-4">CITY SURVEILLANCE MAP</h2>
                <div class="city-map-container">
                    <div id="city-map" class="city-map">
                        <!-- City map visualization using pure HTML/CSS -->
                        <div class="map-roads">
                            <!-- Horizontal Roads -->
                            <div class="road horizontal" style="top: 50px; left: 60px; width: 250px;"></div>
                            <div class="road horizontal" style="top: 150px; left: 60px; width: 320px;"></div>
                            
                            <!-- Vertical Roads -->
                            <div class="road vertical" style="top: 0px; left: 110px; height: 250px;"></div>
                            <div class="road vertical" style="top: 0px; left: 310px; height: 250px;"></div>
                            <div class="road vertical" style="top: 0px; left: 380px; height: 150px;"></div>
                        </div>
                        
                        <!-- Map Locations -->
                        <div class="map-locations">
                            <!-- Central Station -->
                            <div class="map-location" style="top: 50px; left: 110px;">
                                <div class="location-circle">01</div>
                                <div class="location-label">Central Station</div>
                            </div>
                            
                            <!-- Main Street -->
                            <div class="map-location" style="top: 50px; left: 310px;">
                                <div class="location-circle">04</div>
                                <div class="location-label">Main Street</div>
                            </div>
                            
                            <!-- Bus Stop -->
                            <div class="map-location" style="top: 150px; left: 110px;">
                                <div class="location-circle">07</div>
                                <div class="location-label">Bus Stop</div>
                            </div>
                            
                            <!-- City Park -->
                            <div class="map-location" style="top: 150px; left: 210px;">
                                <div class="location-circle">09</div>
                                <div class="location-label">City Park</div>
                            </div>
                            
                            <!-- Market Square -->
                            <div class="map-location" style="top: 150px; left: 310px;">
                                <div class="location-circle">12</div>
                                <div class="location-label">Market Square</div>
                            </div>
                        </div>
                        
                        <!-- Subject Paths -->
                        <div class="subject-paths">
                            <!-- Subject #28F4 Path -->
                            <div class="subject-path" data-subject="28F4">
                                <div class="path-line" style="top: 50px; left: 110px; width: 200px; background-color: #FF0000;"></div>
                                <div class="path-current-location" style="top: 50px; left: 310px; background-color: #FF0000;"></div>
                            </div>
                            
                            <!-- Subject #19A7 Path -->
                            <div class="subject-path" data-subject="19A7">
                                <div class="path-line" style="top: 150px; left: 110px; width: 100px; background-color: #00AAFF;"></div>
                                <div class="path-line" style="top: 150px; left: 210px; width: 100px; background-color: #00AAFF;"></div>
                                <div class="path-current-location" style="top: 150px; left: 310px; background-color: #00AAFF;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Middle Pane - Person Segmentation -->
            <div class="col-md-3 bg-darker p-3 segmentation-pane font-monospace">
                <h2 class="h5 border-bottom pb-2 mb-3">PERSON SEGMENTATION</h2>
                
                <!-- Subject #28F4 Segmentation -->
                <div class="camera-location">
                    <span>Main Street (CAM-04)</span>
                    <span class="timestamp">14:23:01</span>
                </div>
                
                <div class="segmentation-display mb-4" style="border-color: #FF0000;">
                    <div class="segmentation-placeholder" data-subject-id="28F4">
                        <!-- Stylized silhouette -->
                        <div class="silhouette">
                            <div class="silhouette-head"></div>
                            <div class="silhouette-body"></div>
                            
                            <!-- Feature extraction points -->
                            <div class="feature-point" style="left: 45%; top: 14%;"></div>  <!-- Left eye -->
                            <div class="feature-point" style="left: 55%; top: 14%;"></div>  <!-- Right eye -->
                            <div class="feature-point" style="left: 50%; top: 17%;"></div>  <!-- Nose -->
                            <div class="feature-point" style="left: 50%; top: 20%;"></div>  <!-- Mouth -->
                            <div class="feature-point" style="left: 50%; top: 30%;"></div>  <!-- Chest -->
                            <div class="feature-point" style="left: 35%; top: 35%;"></div>  <!-- Left arm -->
                            <div class="feature-point" style="left: 65%; top: 35%;"></div>  <!-- Right arm -->
                            <div class="feature-point" style="left: 45%; top: 70%;"></div>  <!-- Left leg -->
                            <div class="feature-point" style="left: 55%; top: 70%;"></div>  <!-- Right leg -->
                            
                            <!-- Feature extraction lines -->
                            <div class="feature-line" style="top: 14%; left: 45%; width: 10%; height: 1px;"></div>
                            <div class="feature-line" style="top: 14%; left: 45%; width: 1px; height: 3%; transform: translateX(50%);"></div>
                            <div class="feature-line" style="top: 14%; left: 55%; width: 1px; height: 3%; transform: translateX(-50%);"></div>
                            <div class="feature-line" style="top: 17%; left: 50%; width: 1px; height: 3%;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="feature-match-results mb-4">
                    <h3 class="h6 text-danger">Subject #28F4</h3>
                    <p>Match Confidence: 92%</p>
                    
                    <div class="features-detected">
                        <p class="text-muted mb-1">Features Detected:</p>
                        <div class="feature-tags">
                            <span class="feature-tag">Black jacket</span>
                            <span class="feature-tag">Blue cap</span>
                            <span class="feature-tag">Glasses</span>
                            <span class="feature-tag">Beard</span>
                        </div>
                    </div>
                </div>
                
                <!-- Subject #19A7 Segmentation -->
                <div class="camera-location">
                    <span>Market Square (CAM-12)</span>
                    <span class="timestamp">14:21:47</span>
                </div>
                
                <div class="segmentation-display mb-4" style="border-color: #00AAFF;">
                    <div class="segmentation-placeholder" data-subject-id="19A7">
                        <!-- Stylized silhouette -->
                        <div class="silhouette">
                            <div class="silhouette-head"></div>
                            <div class="silhouette-body"></div>
                            
                            <!-- Backpack representation -->
                            <div class="silhouette-backpack"></div>
                            
                            <!-- Feature extraction points -->
                            <div class="feature-point blue" style="left: 45%; top: 14%;"></div>  <!-- Left eye -->
                            <div class="feature-point blue" style="left: 55%; top: 14%;"></div>  <!-- Right eye -->
                            <div class="feature-point blue" style="left: 50%; top: 17%;"></div>  <!-- Nose -->
                            <div class="feature-point blue" style="left: 50%; top: 20%;"></div>  <!-- Mouth -->
                            <div class="feature-point blue" style="left: 50%; top: 30%;"></div>  <!-- Chest -->
                            <div class="feature-point blue" style="left: 35%; top: 35%;"></div>  <!-- Left arm -->
                            <div class="feature-point blue" style="left: 65%; top: 35%;"></div>  <!-- Right arm -->
                            <div class="feature-point blue" style="left: 45%; top: 70%;"></div>  <!-- Left leg -->
                            <div class="feature-point blue" style="left: 55%; top: 70%;"></div>  <!-- Right leg -->
                            
                            <!-- Feature extraction lines -->
                            <div class="feature-line blue" style="top: 14%; left: 45%; width: 10%; height: 1px;"></div>
                            <div class="feature-line blue" style="top: 14%; left: 45%; width: 1px; height: 3%; transform: translateX(50%);"></div>
                            <div class="feature-line blue" style="top: 14%; left: 55%; width: 1px; height: 3%; transform: translateX(-50%);"></div>
                            <div class="feature-line blue" style="top: 17%; left: 50%; width: 1px; height: 3%;"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right Sidebar - Person Profile -->
            <div class="col-md-2 bg-black p-3 sidebar font-monospace">
                <h2 class="h5 border-bottom pb-2 mb-3">SUBJECT PROFILE</h2>
                
                <!-- Person Image Placeholder -->
                <div class="profile-image-container mb-4">
                    <div class="profile-image-placeholder">
                        <div class="profile-silhouette">
                            <div class="silhouette-head"></div>
                            <div class="silhouette-body"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Profile Details -->
                <div class="profile-details mb-4">
                    <h3 class="h6 text-danger">Subject #28F4</h3>
                    <p>Match Confidence: 92%</p>
                    <hr class="border-secondary">
                    
                    <div class="detail-row">
                        <span class="detail-label">First Detection:</span>
                        <span class="detail-value">14:17:22</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Total Appearances:</span>
                        <span class="detail-value">5</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Last Location:</span>
                        <span class="detail-value">Main Street</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Est. Age Range:</span>
                        <span class="detail-value">35-45</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Est. Gender:</span>
                        <span class="detail-value">Male</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Est. Height:</span>
                        <span class="detail-value">5'10" (178cm)</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Recognition Status:</span>
                        <span class="detail-value">Confirmed</span>
                    </div>
                    
                    <hr class="border-secondary">
                    
                    <div class="visual-signatures">
                        <p class="text-muted mb-1">Visual Signatures:</p>
                        <div class="feature-tags">
                            <span class="feature-tag">Black jacket</span>
                            <span class="feature-tag">Blue cap</span>
                            <span class="feature-tag">Glasses</span>
                            <span class="feature-tag">Beard</span>
                        </div>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-secondary w-100 mb-2">Add to Active Case</button>
                    <button class="btn btn-secondary w-100 mb-4">Start Persistent Collection</button>
                </div>
                
                <!-- External Records -->
                <h2 class="h6 border-bottom pb-2 mb-3">EXTERNAL RECORDS</h2>
                <div class="external-records-placeholder">
                    <p class="text-muted text-center">No external records available</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap and app scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>